---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";

export async function getStaticPaths() {
  const projectEntries = await getCollection("projects");

  return projectEntries.map((entry) => ({
    params: { project: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={entry.data.title}>
  <main class="w-full h-full flex flex-col items-center justify-center">
    <div class="max-w-lg flex flex-col justify-center">
      <div class="flex flex-col gap-y-2 items-center">
        {
          entry.data.headerImage ? (
            <Image src={entry.data.headerImage} alt="" />
          ) : (
            <h1 class="text-6xl">{entry.data.title}</h1>
          )
        }
        <h3
          class="text-xl text-balance max-w-md text-center"
          transition:name="description"
        >
          {entry.data.summary}
        </h3>
      </div>

      <Content />
    </div>
  </main>
</Layout>
